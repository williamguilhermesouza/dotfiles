"use strict";
const typescript_template_language_service_decorator_1 = require("typescript-template-language-service-decorator");
const graphql_language_service_proxy_1 = require("./graphql-language-service-proxy");
module.exports = (mod) => {
    return {
        create(info) {
            const logger = (msg) => info.project.projectService.logger.info(`[ts-graphql-plugin-log]: ${msg}`);
            logger(`create function called`);
            return typescript_template_language_service_decorator_1.decorateWithTemplateLanguageService(mod.typescript, info.languageService, new graphql_language_service_proxy_1.default(info, logger), {
                tags: ["gql", "graphql"],
                enableForStringWithSubstitutions: false
            });
        }
    };
};
